# GLSL语法

OpenGL ES 的渲染管线包含有一个可编程的顶点阶段的一个可编程的片段阶段。其余的阶段则有固定的功能，应用程序对其行为的控制非常有限。每个可编程阶段中编译单元的集合组成了一个着色器。在OpenGL ES 2.0 中，每个着色器只支持一个编译单元。着色程序则是一整套编译好并链接在一起的着色器的集合。着色器 shader 的编写需要使用着色语言 GL Shader Language（GLSL），GLSL 的语法与 C 语言很类似。

## 变量

| 变量别名 | 变量类型 | 描述 |
| --- | --- | --- |
| 空	| void	| 用于无返回值的函数或空的参数列表 |
| 标量	| float, int, bool	| 浮点型，整型，布尔型的标量数据类型 |
| 浮点型向量 | float, vec2, vec3, vec4	| 包含1，2，3，4个元素的浮点型向量 |
| 整数型向量 | int, ivec2, ivec3, ivec4	| 包含1，2，3，4个元素的整型向量 |
| 布尔型向量 | bool, bvec2, bvec3, bvec4	| 包含1，2，3，4个元素的布尔型向量 |
| 矩阵 | mat2, mat3, mat4	| 尺寸为2x2，3x3，4x4的浮点型矩阵 |
| 纹理句柄	| sampler2D, samplerCube | 表示2D，立方体纹理的句柄 


对于变量运算，GLSL 中有非常严格的规则，即只有类型一致时，变量才能完成赋值或其它对应的操作。可以通过对应的构造器来实现类型转换。

#### 标量
``` C
float myFloat = 1.0;
bool myBool = true;

myFloat = float(myBool); 	// bool -> float
myBool = bool(myFloat);     // float -> bool
```

#### 向量
当构造向量时，向量构造器中的各参数将会被转换成相同的类型（浮点型、整型或布尔型）。往向量构造器中传递参数有两种形式：
  + 如果向量构造器中只提供了一个标量参数，则向量中所有值都会设定为该标量值。
  + 如果提供了多个标量值或提供了向量参数，则会从左至右使用提供的参数来给向量赋值，如果使用多个标量来赋值，则需要确保标量的个数要多于向量构造器中的个数。
